<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מחשבון להנדסאי חשמל</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .tabs-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .tab-button {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .tab-button:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .tab-button.active {
            background: white;
            color: #667eea;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .tab-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .calc-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
        }

        .calc-section h3 {
            color: #2d3748;
            font-size: 1.3rem;
            margin-bottom: 20px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            font-weight: 500;
            color: #374151;
            margin-bottom: 5px;
        }

        .input-wrapper {
            display: flex;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
            transition: border-color 0.3s ease;
        }

        .input-wrapper:focus-within {
            border-color: #667eea;
        }

        .input-wrapper input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            outline: none;
            font-size: 16px;
        }

        .input-unit {
            background: #f3f4f6;
            padding: 12px 15px;
            color: #6b7280;
            font-weight: 500;
            min-width: 50px;
            text-align: center;
        }

        .calc-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        .calc-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .result-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .result-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .formula {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            color: #0369a1;
            text-align: center;
        }

        .hidden {
            display: none;
        }

        select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: #667eea;
        }

        .footer {
            text-align: center;
            color: white;
            opacity: 0.8;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .tab-button {
                padding: 10px 16px;
                font-size: 12px;
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>מחשבון להנדסאי חשמל</h1>
            <p>כלי מקיף לחישובים חשמליים יומיומיים</p>
            <p style="font-size: 0.9rem; margin-top: 5px; opacity: 0.8;">נבנה ע"י תומר שוורץ</p>
        </div>

        <div class="tabs-container">
            <button class="tab-button active" onclick="showTab('ac')">זרם חילופין</button>
            <button class="tab-button" onclick="showTab('dc')">זרם ישר</button>
            <button class="tab-button" onclick="showTab('reactance')">תגובתיות</button>
            <button class="tab-button" onclick="showTab('energy')">אנרגיה</button>
            <button class="tab-button" onclick="showTab('transformer')">שנאים</button>
            <button class="tab-button" onclick="showTab('conversion')">המרות</button>
        </div>

        <!-- AC Tab -->
        <div id="ac-tab" class="tab-content">
            <div class="calc-section">
                <h3>חישוב הספקים</h3>
                <div class="formula">P = UI cos φ | Q = UI sin φ | S = UI</div>
                <div class="form-grid">
                    <div class="input-group">
                        <label>מתח (V)</label>
                        <div class="input-wrapper">
                            <input type="number" id="ac-voltage" step="any">
                            <div class="input-unit">V</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>זרם (I)</label>
                        <div class="input-wrapper">
                            <input type="number" id="ac-current" step="any">
                            <div class="input-unit">A</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>זווית מופע (φ)</label>
                        <div class="input-wrapper">
                            <input type="number" id="ac-phi" step="any">
                            <div class="input-unit">°</div>
                        </div>
                    </div>
                </div>
                <button class="calc-button" onclick="calculateACPower()">חשב הספקים</button>
                <div id="ac-power-results" class="results-grid hidden"></div>
            </div>

            <div class="calc-section">
                <h3>חישוב עכבה</h3>
                <div class="formula">Z = √(R² + X²) | φ = arctan(X/R)</div>
                <div class="form-grid">
                    <div class="input-group">
                        <label>התנגדות (R)</label>
                        <div class="input-wrapper">
                            <input type="number" id="resistance" step="any">
                            <div class="input-unit">Ω</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>תגובתיות (X)</label>
                        <div class="input-wrapper">
                            <input type="number" id="reactance" step="any">
                            <div class="input-unit">Ω</div>
                        </div>
                    </div>
                </div>
                <button class="calc-button" onclick="calculateImpedance()">חשב עכבה</button>
                <div id="impedance-results" class="results-grid hidden"></div>
            </div>
        </div>

        <!-- DC Tab -->
        <div id="dc-tab" class="tab-content hidden">
            <div class="calc-section">
                <h3>חוק אוהם</h3>
                <div class="formula">V = I × R</div>
                <div class="form-grid">
                    <div class="input-group">
                        <label>מתח (V)</label>
                        <div class="input-wrapper">
                            <input type="number" id="dc-voltage" step="any">
                            <div class="input-unit">V</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>זרם (I)</label>
                        <div class="input-wrapper">
                            <input type="number" id="dc-current" step="any">
                            <div class="input-unit">A</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>התנגדות (R)</label>
                        <div class="input-wrapper">
                            <input type="number" id="dc-resistance" step="any">
                            <div class="input-unit">Ω</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>מה לחשב?</label>
                        <select id="dc-unknown">
                            <option value="V">מתח (V)</option>
                            <option value="I">זרם (I)</option>
                            <option value="R">התנגדות (R)</option>
                        </select>
                    </div>
                </div>
                <button class="calc-button" onclick="calculateOhmsLaw()">חשב</button>
                <div id="dc-results" class="results-grid hidden"></div>
            </div>
        </div>

        <!-- Reactance Tab -->
        <div id="reactance-tab" class="tab-content hidden">
            <div class="calc-section">
                <h3>חישוב תגובתיות</h3>
                <div class="formula">XL = 2πfL | XC = 1/(2πfC)</div>
                <div class="form-grid">
                    <div class="input-group">
                        <label>תדר (f)</label>
                        <div class="input-wrapper">
                            <input type="number" id="frequency" step="any">
                            <div class="input-unit">Hz</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>השראות (L)</label>
                        <div class="input-wrapper">
                            <input type="number" id="inductance" step="any">
                            <div class="input-unit">H</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>קיבול (C)</label>
                        <div class="input-wrapper">
                            <input type="number" id="capacitance" step="any">
                            <div class="input-unit">F</div>
                        </div>
                    </div>
                </div>
                <button class="calc-button" onclick="calculateReactance()">חשב תגובתיות</button>
                <div id="reactance-results" class="results-grid hidden"></div>
            </div>
        </div>

        <!-- Energy Tab -->
        <div id="energy-tab" class="tab-content hidden">
            <div class="calc-section">
                <h3>חישוב אנרגיה אגורה</h3>
                <div class="formula">אנרגיה בקבל: E = ½CV² | אנרגיה בסליל: E = ½LI²</div>
                <div class="form-grid">
                    <div>
                        <h4 style="margin-bottom: 15px; color: #667eea;">אנרגיה בקבל</h4>
                        <div class="input-group">
                            <label>מתח (V)</label>
                            <div class="input-wrapper">
                                <input type="number" id="cap-voltage" step="any">
                                <div class="input-unit">V</div>
                            </div>
                        </div>
                        <div class="input-group">
                            <label>קיבול (C)</label>
                            <div class="input-wrapper">
                                <input type="number" id="capacitor" step="any">
                                <div class="input-unit">F</div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 15px; color: #667eea;">אנרגיה בסליל</h4>
                        <div class="input-group">
                            <label>זרם (I)</label>
                            <div class="input-wrapper">
                                <input type="number" id="ind-current" step="any">
                                <div class="input-unit">A</div>
                            </div>
                        </div>
                        <div class="input-group">
                            <label>השראות (L)</label>
                            <div class="input-wrapper">
                                <input type="number" id="inductor" step="any">
                                <div class="input-unit">H</div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="calc-button" onclick="calculateEnergy()">חשב אנרגיה</button>
                <div id="energy-results" class="results-grid hidden"></div>
            </div>
        </div>

        <!-- Transformer Tab -->
        <div id="transformer-tab" class="tab-content hidden">
            <div class="calc-section">
                <h3>חישובי שנאים</h3>
                <div class="formula">V₁/V₂ = N₁/N₂ | I₁/I₂ = N₂/N₁</div>
                <div class="form-grid">
                    <div class="input-group">
                        <label>מתח ראשוני (V₁)</label>
                        <div class="input-wrapper">
                            <input type="number" id="v1" step="any">
                            <div class="input-unit">V</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>מתח שניוני (V₂)</label>
                        <div class="input-wrapper">
                            <input type="number" id="v2" step="any">
                            <div class="input-unit">V</div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>ליפופים ראשוניים (N₁)</label>
                        <div class="input-wrapper">
                            <input type="number" id="n1" step="any">
                            <div class="input-unit"></div>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>ליפופים שניוניים (N₂)</label>
                        <div class="input-wrapper">
                            <input type="number" id="n2" step="any">
                            <div class="input-unit"></div>
                        </div>
                    </div>
                </div>
                <button class="calc-button" onclick="calculateTransformer()">חשב יחסים</button>
                <div id="transformer-results" class="results-grid hidden"></div>
            </div>
        </div>

        <!-- Conversion Tab -->
        <div id="conversion-tab" class="tab-content hidden">
            <div class="calc-section">
                <h3>המרת מספרים מרוכבים</h3>
                <div class="form-grid">
                    <div>
                        <h4 style="margin-bottom: 15px; color: #667eea;">פולרי → קרטזי</h4>
                        <div class="input-group">
                            <label>גודל</label>
                            <div class="input-wrapper">
                                <input type="number" id="magnitude" step="any">
                                <div class="input-unit"></div>
                            </div>
                        </div>
                        <div class="input-group">
                            <label>זווית</label>
                            <div class="input-wrapper">
                                <input type="number" id="phase" step="any">
                                <div class="input-unit">°</div>
                            </div>
                        </div>
                        <button class="calc-button" onclick="polarToRect()">המר לקרטזי</button>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 15px; color: #667eea;">קרטזי → פולרי</h4>
                        <div class="input-group">
                            <label>חלק ממשי</label>
                            <div class="input-wrapper">
                                <input type="number" id="real" step="any">
                                <div class="input-unit"></div>
                            </div>
                        </div>
                        <div class="input-group">
                            <label>חלק מדומה</label>
                            <div class="input-wrapper">
                                <input type="number" id="imag" step="any">
                                <div class="input-unit"></div>
                            </div>
                        </div>
                        <button class="calc-button" onclick="rectToPolar()">המר לפולרי</button>
                    </div>
                </div>
                <div id="conversion-results" class="results-grid hidden"></div>
            </div>
        </div>

        <div class="footer">
            <p>נבנה עבור הנדסאי חשמל • כל הנוסחאות מבוססות על עקרונות הנדסה חשמלית סטנדרטיים</p>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Helper functions
        function getValue(id) {
            return parseFloat(document.getElementById(id).value) || 0;
        }

        function showResults(containerId, results) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            container.classList.remove('hidden');
            
            results.forEach(result => {
                const div = document.createElement('div');
                div.className = 'result-card';
                div.innerHTML = `
                    <div class="result-label">${result.label}</div>
                    <div class="result-value">${result.value.toFixed(4)} ${result.unit}</div>
                `;
                container.appendChild(div);
            });
        }

        // AC Power Calculations
        function calculateACPower() {
            const V = getValue('ac-voltage');
            const I = getValue('ac-current');
            const phi = getValue('ac-phi');
            
            if (V && I && phi !== undefined) {
                const phiRad = phi * Math.PI / 180;
                const P = V * I * Math.cos(phiRad);
                const Q = V * I * Math.sin(phiRad);
                const S = V * I;
                
                showResults('ac-power-results', [
                    { label: 'הספק פעיל (P)', value: P, unit: 'W' },
                    { label: 'הספק תגובתי (Q)', value: Q, unit: 'VAR' },
                    { label: 'הספק מדומה (S)', value: S, unit: 'VA' }
                ]);
            }
        }

        // Impedance Calculations
        function calculateImpedance() {
            const R = getValue('resistance');
            const X = getValue('reactance');
            
            if (R || X) {
                const Z = Math.sqrt(R*R + X*X);
                const phi = Math.atan2(X, R) * 180 / Math.PI;
                
                showResults('impedance-results', [
                    { label: 'עכבה (Z)', value: Z, unit: 'Ω' },
                    { label: 'זווית מופע (φ)', value: phi, unit: '°' }
                ]);
            }
        }

        // Ohm's Law
        function calculateOhmsLaw() {
            const V = getValue('dc-voltage');
            const I = getValue('dc-current');
            const R = getValue('dc-resistance');
            const unknown = document.getElementById('dc-unknown').value;
            
            let result, label, unit;
            
            switch(unknown) {
                case 'V':
                    if (I && R) {
                        result = I * R;
                        label = 'מתח (V)';
                        unit = 'V';
                    }
                    break;
                case 'I':
                    if (V && R) {
                        result = V / R;
                        label = 'זרם (I)';
                        unit = 'A';
                    }
                    break;
                case 'R':
                    if (V && I) {
                        result = V / I;
                        label = 'התנגדות (R)';
                        unit = 'Ω';
                    }
                    break;
            }
            
            if (result !== undefined) {
                showResults('dc-results', [
                    { label: label, value: result, unit: unit }
                ]);
            }
        }

        // Reactance Calculations
        function calculateReactance() {
            const f = getValue('frequency');
            const L = getValue('inductance');
            const C = getValue('capacitance');
            
            const results = [];
            
            if (f && L) {
                const XL = 2 * Math.PI * f * L;
                results.push({ label: 'תגובתיות אינדוקטיבית (XL)', value: XL, unit: 'Ω' });
            }
            
            if (f && C) {
                const XC = 1 / (2 * Math.PI * f * C);
                results.push({ label: 'תגובתיות קיבולית (XC)', value: XC, unit: 'Ω' });
            }
            
            if (results.length > 0) {
                showResults('reactance-results', results);
            }
        }

        // Energy Calculations
        function calculateEnergy() {
            const V = getValue('cap-voltage');
            const C = getValue('capacitor');
            const I = getValue('ind-current');
            const L = getValue('inductor');
            
            const results = [];
            
            if (V && C) {
                const EC = 0.5 * C * V * V;
                results.push({ label: 'אנרגיה בקבל', value: EC, unit: 'J' });
            }
            
            if (I && L) {
                const EL = 0.5 * L * I * I;
                results.push({ label: 'אנרגיה בסליל', value: EL, unit: 'J' });
            }
            
            if (results.length > 0) {
                showResults('energy-results', results);
            }
        }

        // Transformer Calculations
        function calculateTransformer() {
            const V1 = getValue('v1');
            const V2 = getValue('v2');
            const N1 = getValue('n1');
            const N2 = getValue('n2');
            
            const results = [];
            
            if (V1 && V2) {
                const voltageRatio = V1 / V2;
                results.push({ label: 'יחס מתחים (V₁/V₂)', value: voltageRatio, unit: '' });
            }
            
            if (N1 && N2) {
                const turnsRatio = N1 / N2;
                const currentRatio = N2 / N1;
                results.push({ label: 'יחס ליפופים (N₁/N₂)', value: turnsRatio, unit: '' });
                results.push({ label: 'יחס זרמים (I₁/I₂)', value: currentRatio, unit: '' });
            }
            
            if (results.length > 0) {
                showResults('transformer-results', results);
            }
        }

        // Complex Number Conversions
        function polarToRect() {
            const mag = getValue('magnitude');
            const phase = getValue('phase');
            
            if (mag && phase !== undefined) {
                const phaseRad = phase * Math.PI / 180;
                const real = mag * Math.cos(phaseRad);
                const imag = mag * Math.sin(phaseRad);
                
                showResults('conversion-results', [
                    { label: 'חלק ממשי', value: real, unit: '' },
                    { label: 'חלק מדומה', value: imag, unit: '' }
                ]);
            }
        }

        function rectToPolar() {
            const real = getValue('real');
            const imag = getValue('imag');
            
            if (real !== undefined && imag !== undefined) {
                const magnitude = Math.sqrt(real*real + imag*imag);
                const phase = Math.atan2(imag, real) * 180 / Math.PI;
                
                showResults('conversion-results', [
                    { label: 'גודל', value: magnitude, unit: '' },
                    { label: 'זווית', value: phase, unit: '°' }
                ]);
            }
        }
    </script>
</body>
</html>